# 区块链

* 区块链核心（链、区块、交易等概念，挖矿算法、共识机制，启动流程、挖矿流程、交易流程，验证区块/交易流程，智能合约）
* P2P网络（服务、本地节点Node、远程节点Peer）
* DB存储（数据库）
* 客户端/API（钱包、客户端、命令行、RPC接口、API库等）
* 数学、密码学（加密、解密，签名、验签，随机数，公钥、私钥，散列哈希，椭圆曲线）
* 相对比较独立的工具库
* 拆分出来的配置文件，数据结构，常用数据结构/方法

网络、存储、密码学都是现成的，都是基础设施；具体分析时，可分析某个包属于哪个要素，又偏向于要素。

客户端/API 为表现形式；

核心，就是核心业务、功能，包含了数据结构和算法，共识（以太坊还有：智能合约、虚拟机，回执，账户状态、世界状态等）。

此外，还有数据结构 + 算法，各要素之间的连接部分，以及其它工具类（以太坊如：rlp, trie）等。

重要操作：

* 全节点，启动节点、运行
* 矿工，打包交易、挖矿、出块
* 钱包端，转账

  Block/Transaction/Receipt/Log 的数据结构关系

![](/assets/block-tx-receipt-log.png)

模块与模块之间如何交互？

* 引入包

* 初始化环境

* 构建实例

* 准备上下文

* 进行方法调用

但大多数情况势必造成：耦合、重复，甚至说是混乱。

因此需要引入一个中间人（中台）相互之间通过它交互，一步到位，实现“进行方法调用”。需求需要耦合，设计需要解耦。

